import {useEffect, useState} from 'react'
import {PeriodicElement} from '../../Documents/periodic-elements'

function LogoLine({
  name,
  elementsData,
}: {
  name: string
  elementsData: Array<PeriodicElement>
}) {
  // Hold data
  const [initials, setInitials] = useState<string>(name.slice(0, 2))
  const [restOfTheName, setRestOfTheName] = useState<string>(name.slice(2))
  const [number, setNumber] = useState<number>(0)

  // Listen for elements data change
  useEffect(() => {
    if (elementsData) {
      // Define new initials
      const newInitials = name.slice(0, 2)

      // Hold element
      let element: PeriodicElement | undefined = undefined

      // Look for element with matching 2 initial letters
      const initial2LettersElement = elementsData.find(
        (element) =>
          element.symbol?.toLowerCase() === newInitials.toLowerCase(),
      )

      // Evaluate if element was found
      if (initial2LettersElement) {
        // Assign element
        element = initial2LettersElement
      } else {
        // Look for element with 1 matching initial
        const initial1LetterElement = elementsData.find(
          (element) =>
            element.symbol?.toLowerCase() === newInitials[0]?.toLowerCase(),
        )

        // Evaluate if element was found
        if (initial1LetterElement) {
          // Assign element
          element = initial1LetterElement
        }
      }

      // Evaluate if element was found
      if (element) {
        // Yes, set number
        setNumber(element.number || 0)

        // Evaluate if symbol has 1 letter
        if (element.symbol?.length === 1) {
          // Yes, set 1 initial
          setInitials(name.slice(0, 1))

          // Set rest of the name
          setRestOfTheName(name.slice(1))
        } else {
          // No, set 2 initials
          setInitials(name.slice(0, 2))

          // Set rest of the name
          setRestOfTheName(name.slice(2))
        }
      } else {
        // No, set number to 0
        setNumber(0)

        // Set initials
        setInitials(name.slice(0, 2))

        // Set rest of the name
        setRestOfTheName(name.slice(2))
      }
    }

    // eslint-disable-next-line react-hooks/exhaustive-deps
  }, [elementsData, name])

  // Hold style properties
  const fontSize = '74px'

  // Build
  return (
    <div
      style={{
        display: 'flex',
        gap: '2px',
        height: '100px',
        overflow: 'hidden',
      }}
    >
      <div
        style={{
          background: '#206727',
          color: '#fff',
          padding: '8px',
          width: '100px',
          height: '100px',
          display: 'flex',
          alignItems: 'center',
          justifyContent: 'center',
          fontSize,
          position: 'relative',
          border: '1px solid #000',
        }}
      >
        <div>{initials}</div>
        <div
          style={{
            position: 'absolute',
            top: 0,
            right: 0,
            padding: '4px',
            fontSize: '18px',
            color: '#fff',
          }}
        >
          {number}
        </div>
      </div>
      <div
        style={{
          fontSize,
          color: '#206727',
        }}
      >
        {restOfTheName}
      </div>
    </div>
  )
}

export function Logo({
  firstName,
  lastName,
  elementsData,
}: {
  firstName: string
  lastName: string
  elementsData: Array<PeriodicElement>
}) {
  return (
    <>
      {/* <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 368.588 219.595">
        <linearGradient
          id="a"
          gradientUnits="userSpaceOnUse"
          x1=".752"
          y1=".753"
          x2="109.826"
          y2="109.827"
        >
          <stop offset="0" stopColor="#15453D" />
          <stop offset="1" stopColor="#006C24" />
        </linearGradient>
        <path
          style={{
            fill: 'url(#a)',
          }}
          d="M.751.752h109.074v109.074H.751z"
        />
        <path
          style={{fill: '#072508'}}
          d="M-.001 110.576V0h110.576v110.576H-.001zm109.826-.75v-.75.75zm-108.326-.75h107.574V1.502H1.499v107.574z"
        />
        <path
          style={{fill: '#fff'}}
          d="M17.438 25.684H45.97c9.963 0 17.965 5.023 17.965 15.074 0 6.643-3.658 10.984-10.303 12.26v.172c8.346.852 13.027 7.75 13.027 14.988 0 15.158-10.813 18.141-23.416 18.141H17.438V25.684zm11.413 24.357h13.541c5.023 0 9.625-1.961 9.625-7.752 0-4.6-2.984-7.578-9.625-7.578H28.851v15.33zm0 26.23h14.818c6.898 0 11.07-2.133 11.07-8.434 0-6.814-4.258-9.283-11.156-9.283H28.851v17.717zM73.808 43.227H84.2v5.959h.17c2.471-4.938 7.238-6.98 13.285-6.98v10.561c-7.07 0-13.455 3.32-13.455 12.686V86.32H73.808V43.227zM86.274 15.782h.893c.912 0 1.623-.42 1.623-1.387 0-1.039-.602-1.676-1.641-1.676-1.258 0-1.66 1.094-1.75 2.133l-2.426-.512c.4-2.406 1.932-3.664 4.357-3.664 2.023 0 3.902 1.076 3.902 3.318 0 1.441-.693 2.262-2.043 2.607v.037c1.551.363 2.334 1.477 2.354 3.063 0 2.572-2.115 3.811-4.486 3.811-2.426 0-4.303-1.129-4.303-4.266h2.334c0 1.33.674 2.225 2.041 2.225 1.168 0 1.861-.785 1.861-1.914 0-1.387-.875-1.842-1.824-1.842h-.893v-1.933zM94.118 10.895h6.928l-.236 2.152h-4.795l-.383 2.588c.637-.564 1.404-.875 2.225-.875 2.643 0 3.902 1.951 3.902 4.248 0 2.846-1.988 4.504-4.613 4.504-2.316 0-4.213-1.148-4.322-3.646l2.553-.199c.018 1.039.693 1.914 1.787 1.914 1.494 0 2.043-1.258 2.043-2.553 0-1.641-.84-2.334-2.08-2.334-.912 0-1.422.4-1.768 1.186l-2.115-.164.874-6.821z"
        />
        <path
          style={{fill: '#154f3c'}}
          d="M128.88 63.998c-2.941 0-3.277.084-3.277 2.352 0 6.807 5.545 13.025 13.107 13.025 3.109 0 5.967-.924 8.74-2.857 1.932-1.344 3.193-2.941 4.873-2.941 1.26 0 2.186.926 2.186 2.102 0 1.26-1.346 3.361-3.949 5.461-4.623 3.781-8.908 5.715-14.705 5.715-12.186 0-21.26-9.412-21.26-21.596 0-13.361 9.242-22.939 22.268-22.939 11.008 0 17.898 6.721 17.898 17.393 0 3.949-1.01 4.287-4.791 4.287h-20.502c-.252-.002-.42-.002-.588-.002zm13.611-4.875c2.018 0 2.689-.252 2.689-1.596 0-5.295-3.949-9.748-9.748-9.748-5.629 0-9.41 4.453-9.41 9.748 0 1.344.588 1.596 2.604 1.596h13.865zM196.513 79.039c2.523.756 4.035.756 4.035 2.52 0 2.521-4.119 5.379-9.58 5.379-3.195 0-5.379-4.453-6.219-4.453-1.346 0-5.043 4.453-12.521 4.453-8.318 0-13.949-5.293-13.949-13.109 0-8.99 6.723-14.537 18.824-14.537 2.184 0 4.873.252 7.982.756V55.51c0-5.041-2.27-7.814-6.303-7.814-2.857 0-5.209 1.26-7.395 3.781-1.766 2.018-2.857 4.369-6.387 4.369-2.27 0-3.697-1.596-3.697-4.033 0-4.873 6.471-9.494 17.73-9.494 6.471 0 11.008 1.764 13.445 4.873 2.186 2.773 2.354 6.975 2.354 13.025v13.779c.001 2.942.421 4.707 1.681 5.043zm-17.647-14.285c-6.219 0-9.748 2.941-9.748 7.73 0 4.453 3.109 7.479 8.236 7.479 5.797 0 7.73-2.438 7.73-8.15V65.51c-2.269-.504-4.368-.756-6.218-.756zM217.56 57.023c0 1.764.084 2.604.84 2.604.42 0 2.186-1.092 4.875-3.529 3.445-3.193 5.377-5.125 5.377-6.133 0-1.094-3.193-1.01-3.193-3.361 0-2.857 3.445-3.445 10.588-3.445 5.211 0 7.814 1.008 7.814 3.193 0 3.277-4.033 2.268-7.563 4.369-1.68 1.008-3.529 2.941-5.881 5.293-1.178 1.178-1.85 1.934-1.85 2.438 0 .84 1.512 2.773 4.201 6.303 5.967 7.73 10 12.184 12.018 13.697 2.856 2.016 6.553 1.344 6.553 4.201 0 2.52-2.688 3.445-8.57 3.445-2.438 0-4.033-.252-4.537-.42-2.354-.842-4.285-3.865-7.73-8.236-7.395-9.41-11.262-14.369-12.102-14.369-.756 0-.84.674-.84 2.27v1.848c0 7.059.168 11.094 1.176 12.27 1.178 1.344 4.371.924 4.371 3.613 0 2.438-3.109 3.025-9.832 3.025-7.479 0-10.672-.42-10.672-3.277 0-1.934 1.764-1.934 3.193-2.689 1.764-1.008 2.1-4.033 2.1-9.748 0-3.193-.084-7.059-.084-11.932V53.16c0-12.521-.084-17.328-1.176-18.588-.672-.756-2.102-.924-3.865-1.514-1.346-.42-1.934-.756-1.934-2.016 0-1.765 1.598-2.437 4.707-3.529 4.873-1.682 8.57-2.186 10.166-2.186 1.85 0 2.354 1.094 2.354 3.613 0 4.453-.504 8.923-.504 17.328v10.755zM268.402 72.064c0 4.537.252 7.143 1.68 7.898 1.934 1.092 3.781.84 3.781 3.109 0 2.438-3.025 3.025-9.748 3.025-7.479 0-10.755-.42-10.755-3.277 0-1.934 1.766-1.934 3.192-2.689 1.682-.924 2.018-3.025 2.018-6.723 0-1.764-.084-3.781-.084-6.303v-4.453c0-6.891-.084-10.504-1.514-11.26-2.099-1.092-4.62-.924-4.62-3.025 0-1.344 1.177-2.268 3.445-3.193 5.798-2.268 10.167-2.855 11.007-2.855 1.682 0 2.186 1.176 2.186 3.613 0 1.092 0 2.604-.084 4.453l-.336 10.924c-.084 3.698-.168 7.311-.168 10.756zm-5.547-45.401c3.865 0 6.471 2.438 6.471 5.462 0 3.025-2.857 5.629-6.975 5.629-3.781 0-6.387-2.268-6.387-5.209.001-3.109 2.942-5.882 6.891-5.882zM305.23 42.318c4.368 0 8.318 2.1 10.755 4.957 3.362 4.033 3.613 8.99 3.613 15.713v5.799c0 2.016-.084 3.697-.084 5.209 0 3.361.253 5.211 1.934 6.135 1.429.756 3.194.756 3.194 2.689 0 2.857-3.194 3.193-10.504 3.193-6.891 0-10.084-.42-10.084-2.941 0-2.27 1.847-2.018 3.78-3.109 1.513-.84 1.764-3.697 1.764-8.906 0-13.529-.168-20.504-7.981-20.504-3.025 0-6.052 1.932-7.563 5.041-1.596 3.193-1.68 8.824-1.68 16.975 0 4.201.084 6.555 1.595 7.395 1.935 1.092 3.782.84 3.782 3.109 0 2.438-3.025 3.025-9.749 3.025-7.478 0-10.755-.42-10.755-3.277 0-1.934 1.766-1.934 3.192-2.689 1.683-.924 2.019-3.025 2.019-6.723 0-1.764-.084-3.781-.084-6.303v-4.453c0-6.891-.085-10.504-1.515-11.26-2.1-1.092-4.62-.924-4.62-3.025 0-1.344 1.175-2.268 3.445-3.193 5.462-2.1 9.495-2.688 10.587-2.688 1.596 0 2.271.756 2.271 2.688v2.858c0 .336 0 .504.335.504a.644.644 0 0 0 .421-.168l1.007-.924c2.522-2.271 4.79-5.127 10.925-5.127zM327.915 58.535c0-9.244 7.731-16.217 18.57-16.217 2.941 0 6.639.672 11.092 1.68 2.271 0 4.705-1.176 7.983-3.445 1.175.756 1.85 1.766 1.85 2.773 0 2.352-1.767 4.705-5.212 6.471 1.177 2.268 1.767 4.453 1.767 6.975 0 9.242-7.396 15.965-18.825 15.965-3.107 0-5.964-.42-8.57-1.344-1.176 1.26-1.764 2.352-1.764 3.361 0 2.771 2.771 3.949 8.318 3.949 4.286 0 8.655-.926 13.194-.926 7.982 0 12.267 3.361 12.267 9.328 0 8.74-9.411 15.883-23.696 15.883-11.596 0-18.991-5.545-18.991-11.346 0-3.109 2.018-5.209 6.051-7.646-3.36-1.176-5.21-3.445-5.21-6.303 0-2.939 2.101-5.713 6.218-8.234-3.362-2.857-5.042-6.555-5.042-10.924zm7.228 32.268c0 3.781 4.117 6.641 11.343 6.641 8.066 0 13.275-3.615 13.275-7.648 0-2.689-1.931-4.285-5.628-4.285-2.606 0-6.472.84-11.428.84-1.683 0-3.445-.084-5.379-.336-1.512 1.426-2.183 2.94-2.183 4.788zm10.587-23.614c4.788 0 8.402-3.865 8.402-9.662 0-5.967-3.53-9.832-8.318-9.832-4.371 0-7.9 3.949-7.9 9.748 0 5.965 3.276 9.746 7.816 9.746zM255.647 190.841c0-.756-.168-1.092-.338-1.092-.252 0-1.259.924-3.191 2.352-3.276 2.438-6.471 3.697-10.084 3.697-10.42 0-18.066-8.15-18.066-20.754 0-13.95 8.57-23.527 20.67-23.527 5.884 0 9.497 2.521 10.168 2.521.504 0 .588-.756.588-2.102v-3.041c0-3.866-.504-5.128-2.688-5.883-2.017-.672-3.78-.672-3.78-2.606 0-1.848 1.764-2.688 5.293-3.948 3.695-1.345 6.637-1.849 8.738-1.849 1.932 0 2.688 1.008 2.688 3.529 0 1.429-.504 8.925-.504 26.569 0 14.369.084 21.68 1.262 22.52 1.848 1.344 5.209.504 5.209 3.025 0 2.016-2.27 2.689-6.639 4.117-2.941 1.008-5.967 1.344-7.059 1.344-1.596 0-2.267-.84-2.267-2.771v-2.101zm-.421-24.201c0-2.352 0-3.95-.84-5.042-1.763-2.353-5.376-4.283-9.074-4.283-6.135 0-10.42 5.291-10.42 14.536 0 9.998 4.873 16.217 11.008 16.217 5.965 0 9.326-3.277 9.326-9.746V166.64z"
        />
        <linearGradient
          id="b"
          gradientUnits="userSpaceOnUse"
          x1="218.917"
          y1="218.848"
          x2="109.84"
          y2="109.771"
        >
          <stop offset="0" stopColor="#15453D" />
          <stop offset="1" stopColor="#006C24" />
        </linearGradient>
        <path
          style={{
            fill: 'url(#a)',
          }}
          d="M109.839 109.771h109.078v109.075H109.839z"
        />
        <path
          style={{fill: '#072508'}}
          d="M109.087 219.595V109.021h110.58V219.594h-110.58v.001zm109.83-.748v-.75.75zm-108.33-.75h107.58l-.002-107.575H110.587v107.575z"
        />
        <path
          style={{fill: '#fff'}}
          d="M118.001 134.705h28.525c9.965 0 17.969 5.025 17.969 15.073 0 6.642-3.662 10.98-10.307 12.26v.171c8.348.85 13.031 7.747 13.031 14.983 0 15.16-10.814 18.145-23.42 18.145H118v-60.632zm11.41 24.354h13.539c5.021 0 9.623-1.959 9.623-7.747 0-4.598-2.982-7.581-9.623-7.581h-13.539v15.328zm0 26.227h14.813c6.9 0 11.076-2.129 11.076-8.432 0-6.811-4.26-9.279-11.158-9.279h-14.73v17.711zM210.392 188.097c0 4.428 1.021 6.303 1.615 7.24h-10.984c-.678-1.023-1.02-2.813-1.02-3.92-4.002 3.236-8.689 4.938-14.055 4.938-8.174 0-14.646-5.193-14.646-13.535 0-8.434 6.727-12.184 13.115-13.461l4.342-.848c3.748-.766 8.604-1.619 11.244-2.555v-1.277c0-4.258-3.662-5.449-8.178-5.449-6.045 0-8.006 1.787-8.006 6.473l-10.389-.428c0-10.132 8.941-14.045 18.395-14.045 9.287 0 18.566 1.873 18.566 14.131v22.736zm-10.389-14.307c-1.359.682-3.066 1.193-4.941 1.531l-5.707 1.195c-3.916.766-7.15 1.871-7.15 5.959 0 3.238 2.977 5.367 6.727 5.367 4.854 0 11.072-2.385 11.072-7.918v-6.134zM192.704 119.196h6.93l-.238 2.151h-4.795l-.383 2.59c.639-.566 1.404-.876 2.225-.876 2.645 0 3.902 1.951 3.902 4.25 0 2.843-1.988 4.503-4.613 4.503-2.316 0-4.213-1.15-4.322-3.647l2.553-.2c.018 1.039.693 1.914 1.787 1.914 1.496 0 2.043-1.257 2.043-2.553 0-1.641-.84-2.334-2.08-2.334-.91 0-1.422.401-1.768 1.186l-2.115-.163.874-6.821zM207.823 122.442c-.072-.875-.637-1.422-1.477-1.422-1.77 0-2.17 2.313-2.17 3.772h.037c.309-.455 1.021-1.147 2.424-1.147 2.316 0 3.666 1.659 3.666 4.084 0 2.299-1.678 4.085-4.139 4.085-3.611 0-4.432-3.228-4.432-6.109 0-3.92 1.531-6.729 4.631-6.729 2.08 0 3.465 1.077 3.813 3.154l-2.353.312zm-3.465 5.287c0 1.276.639 2.042 1.807 2.042 1.166 0 1.805-.766 1.805-2.042s-.639-2.042-1.805-2.042c-1.168.001-1.807.766-1.807 2.042z"
        />
      </svg> */}
      <div>
        <LogoLine name={firstName} elementsData={elementsData} />
        <div
          style={{
            display: 'flex',
            justifyContent: 'center',
          }}
        >
          <LogoLine name={lastName} elementsData={elementsData} />
        </div>
      </div>
    </>
  )
}
